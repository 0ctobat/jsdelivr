!function(e){function t(e,t,i){return 4===arguments.length?r.apply(this,arguments):void n(e,{declarative:!0,deps:t,declare:i})}function r(e,t,r,i){n(e,{declarative:!1,deps:t,executingRequire:r,execute:i})}function n(e,t){t.name=e,e in p||(p[e]=t),t.normalizedDeps=t.deps}function i(e,t){if(t[e.groupIndex]=t[e.groupIndex]||[],-1==m.call(t[e.groupIndex],e)){t[e.groupIndex].push(e);for(var r=0,n=e.normalizedDeps.length;n>r;r++){var o=e.normalizedDeps[r],a=p[o];if(a&&!a.evaluated){var s=e.groupIndex+(a.declarative!=e.declarative);if(void 0===a.groupIndex||a.groupIndex<s){if(void 0!==a.groupIndex&&(t[a.groupIndex].splice(m.call(t[a.groupIndex],a),1),0==t[a.groupIndex].length))throw new TypeError("Mixed dependency cycle detected");a.groupIndex=s}i(a,t)}}}}function o(e){var t=p[e];t.groupIndex=0;var r=[];i(t,r);for(var n=!!t.declarative==r.length%2,o=r.length-1;o>=0;o--){for(var a=r[o],u=0;u<a.length;u++){var f=a[u];n?s(f):c(f)}n=!n}}function a(e){return b[e]||(b[e]={name:e,dependencies:[],exports:{},importers:[]})}function s(t){if(!t.module){var r=t.module=a(t.name),n=t.module.exports,i=t.declare.call(e,function(e,t){if(r.locked=!0,"object"==typeof e)for(var i in e)n[i]=e[i];else n[e]=t;for(var o=0,a=r.importers.length;a>o;o++){var s=r.importers[o];if(!s.locked)for(var u=0;u<s.dependencies.length;++u)s.dependencies[u]===r&&s.setters[u](n)}return r.locked=!1,t},t.name);r.setters=i.setters,r.execute=i.execute;for(var o=0,u=t.normalizedDeps.length;u>o;o++){var c,f=t.normalizedDeps[o],l=p[f],d=b[f];d?c=d.exports:l&&!l.declarative?c=l.esModule:l?(s(l),d=l.module,c=d.exports):c=h(f),d&&d.importers?(d.importers.push(r),r.dependencies.push(d)):r.dependencies.push(null),r.setters[o]&&r.setters[o](c)}}}function u(e){var t,r=p[e];if(r)r.declarative?d(e,[]):r.evaluated||c(r),t=r.module.exports;else if(t=h(e),!t)throw new Error("Unable to load dependency "+e+".");return(!r||r.declarative)&&t&&t.__useDefault?t["default"]:t}function c(t){if(!t.module){var r={},n=t.module={exports:r,id:t.name};if(!t.executingRequire)for(var i=0,o=t.normalizedDeps.length;o>i;i++){var a=t.normalizedDeps[i],s=p[a];s&&c(s)}t.evaluated=!0;var l=t.execute.call(e,function(e){for(var r=0,n=t.deps.length;n>r;r++)if(t.deps[r]==e)return u(t.normalizedDeps[r]);throw new TypeError("Module "+e+" not declared as a dependency.")},r,n);l&&(n.exports=l),r=n.exports,r&&r.__esModule?t.esModule=r:t.esModule=f(r)}}function f(t){var r={};if(("object"==typeof t||"function"==typeof t)&&t!==e)if(g)for(var n in t)"default"!==n&&l(r,t,n);else{var i=t&&t.hasOwnProperty;for(var n in t)"default"===n||i&&!t.hasOwnProperty(n)||(r[n]=t[n])}return r["default"]=t,y(r,"__useDefault",{value:!0}),r}function l(e,t,r){try{var n;(n=Object.getOwnPropertyDescriptor(t,r))&&y(e,r,n)}catch(i){return e[r]=t[r],!1}}function d(t,r){var n=p[t];if(n&&!n.evaluated&&n.declarative){r.push(t);for(var i=0,o=n.normalizedDeps.length;o>i;i++){var a=n.normalizedDeps[i];-1==m.call(r,a)&&(p[a]?d(a,r):h(a))}n.evaluated||(n.evaluated=!0,n.module.execute.call(e))}}function h(e){if(w[e])return w[e];if("@node/"==e.substr(0,6))return x(e.substr(6));var t=p[e];if(!t)throw"Module "+e+" not present.";return o(e),d(e,[]),p[e]=void 0,t.declarative&&y(t.module.exports,"__esModule",{value:!0}),w[e]=t.declarative?t.module.exports:t.esModule}var p={},m=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1},g=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(v){g=!1}var y;!function(){try{Object.defineProperty({},"a",{})&&(y=Object.defineProperty)}catch(e){y=function(e,t,r){try{e[t]=r.value||r.get.call(e)}catch(n){}}}}();var b={},x="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,w={"@empty":{}};return function(e,n,i,o){return function(a){a(function(a){for(var s={_nodeRequire:x,register:t,registerDynamic:r,get:h,set:function(e,t){w[e]=t},newModule:function(e){return e}},u=0;u<n.length;u++)(function(e,t){t&&t.__esModule?w[e]=t:w[e]=f(t)})(n[u],arguments[u]);o(s);var c=h(e[0]);if(e.length>1)for(var u=1;u<e.length;u++)h(e[u]);return i?c["default"]:c})}}}("undefined"!=typeof self?self:global)(["1"],[],!1,function(e){this.require,this.exports,this.module;!function(t){function r(e,t){for(var r=e.split(".");r.length;)t=t[r.shift()];return t}function n(e){if("string"==typeof e)return r(e,t);if(!(e instanceof Array))throw new Error("Global exports must be a string or array.");for(var n={},i=!0,o=0;o<e.length;o++){var a=r(e[o],t);i&&(n["default"]=a,i=!1),n[e[o].split(".").pop()]=a}return n}function i(e){if(Object.keys)Object.keys(t).forEach(e);else for(var r in t)u.call(t,r)&&e(r)}function o(e){i(function(r){if(-1==c.call(f,r)){try{var n=t[r]}catch(i){f.push(r)}e(r,n)}})}var a,s=e,u=Object.prototype.hasOwnProperty,c=Array.prototype.indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(this[t]===e)return t;return-1},f=["_g","sessionStorage","localStorage","clipboardData","frames","frameElement","external","mozAnimationStartTime","webkitStorageInfo","webkitIndexedDB","mozInnerScreenY","mozInnerScreenX"];s.set("@@global-helpers",s.newModule({prepareGlobal:function(e,r,i){var s=t.define;t.define=void 0;var u;if(i){u={};for(var c in i)u[c]=t[c],t[c]=i[c]}return r||(a={},o(function(e,t){a[e]=t})),function(){var e;if(r)e=n(r);else{e={};var i,c;o(function(t,r){a[t]!==r&&"undefined"!=typeof r&&(e[t]=r,"undefined"!=typeof i?c||i===r||(c=!0):i=r)}),e=c?e:i}if(u)for(var f in u)t[f]=u[f];return t.define=s,e}}}))}("undefined"!=typeof self?self:global),e.registerDynamic("2",[],!1,function(t,r,n){var i=e.get("@@global-helpers").prepareGlobal(n.id,null,null);return function(){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function r(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function o(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function u(e){var t=new FileReader;return t.readAsText(e),a(t)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}function l(e,t){t=t||{};var r=t.body;if(l.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,r||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function d(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function h(e){var t=new i,r=(e.getAllResponseHeaders()||"").trim().split("\n");return r.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),i=r.join(":").trim();t.append(n,i)}),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,n){e=t(e),n=r(n);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(n)},i.prototype["delete"]=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,n){this.map[t(e)]=[r(n)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(n){e.call(t,n,r,this)},this)},this)},i.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),n(e)},i.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},i.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),n(e)},m.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this)},c.call(l.prototype),c.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];p.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=l,e.Response=p,e.fetch=function(e,t){return new Promise(function(r,n){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:h(a),url:i()},t="response"in a?a.response:a.responseText;r(new p(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&m.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)}(),i()}),e.registerDynamic("3",["2"],!0,function(e,t,r){return r.exports=e("2"),r.exports}),e.registerDynamic("4",["5","6","7"],!0,function(e,t,r){var n=e("5"),i=e("6");return r.exports=e("7").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))},r.exports}),e.registerDynamic("8",["9","a","4"],!0,function(e,t,r){return e("9"),e("a"),r.exports=e("4"),r.exports}),e.registerDynamic("b",["8"],!0,function(e,t,r){return r.exports={"default":e("8"),__esModule:!0},r.exports}),e.registerDynamic("c",["d","e","f","7"],!0,function(e,t,r){var n=e("d"),i=e("e")("iterator"),o=e("f");return r.exports=e("7").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(n(t))},r.exports}),e.registerDynamic("10",["9","a","c"],!0,function(e,t,r){return e("9"),e("a"),r.exports=e("c"),r.exports}),e.registerDynamic("11",["10"],!0,function(e,t,r){return r.exports={"default":e("10"),__esModule:!0},r.exports}),e.registerDynamic("12",["b","11"],!0,function(e,t,r){"use strict";var n=e("b")["default"],i=e("11")["default"];return t["default"]=function(){function e(e,t){var r=[],i=!0,o=!1,a=void 0;try{for(var s,u=n(e);!(i=(s=u.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}return r}return function(t,r){if(Array.isArray(t))return t;if(i(Object(t)))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),t.__esModule=!0,r.exports}),e.register("13",["14"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.userModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@querycount",name:"queryCount",transform:"number"},{field:"@totalcount",name:"totalCount",transform:"number"},{field:"@href",name:"href"},{field:"users",isArray:!0,transform:t}],e("userListModel",r)}}}),e.register("15",["12","13","14","16","17","18","19","1c","1a","1b"],function(e){var t,r,n,i,o,a,s,u,c,f,l,d;return{setters:[function(e){t=e["default"]},function(e){r=e.userListModel},function(e){n=e.userModel},function(e){i=e["default"]},function(e){o=e["default"]},function(e){a=e["default"]},function(e){s=e.Settings},function(e){u=e.Plug},function(e){c=e.utility},function(e){f=e.modelParser}],execute:function(){"use strict";l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"current":arguments[0],r=arguments.length<=1||void 0===arguments[1]?new s:arguments[1];o(this,e),this._id=c.getResourceId(t,"current"),this._plug=new u(r.host,r.plugConfig).at("@api","deki","users",this._id)}return i(e,[{key:"getInfo",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.excludes,r=void 0===t?[]:t,i=f.createParser(n),o=this._plug;return Array.isArray(r)&&r.length&&(o=o.withParam("exclude",r.join())),o.get().then(function(e){return e.json()}).then(i)}}]),e}(),e("User",l),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new s:arguments[0];o(this,e),this._settings=t,this._plug=new u(t.host,t.plugConfig).at("@api","deki","users")}return i(e,[{key:"getCurrentUser",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.excludes,r=void 0===t?[]:t,i=f.createParser(n),o=this._plug;return Array.isArray(r)&&r.length&&(o=o.withParam("exclude",r.join())),o.at("current").get().then(function(e){return e.json()}).then(i)}},{key:"getCurrentUserActivityToken",value:function(){return this._plug.at("current").withParam("exclude",["groups","properties"]).get().then(function(e){return a.all([e.json().then(f.createParser(n)),new a(function(t,r){var n=e.headers.get("X-Deki-Session");null!==n?t(n):r(new Error("Could not fetch an X-Deki-Session HTTP header from the MindTouch API."))})])}).then(function(e){var r=t(e,2),n=r[0],i=r[1];return n.id+":"+i})}},{key:"getUsers",value:function(){var e=f.createParser(r);return this._plug.get().then(function(e){return e.json()}).then(e)}},{key:"searchUsers",value:function(e){var t=f.createParser(r);return this._plug.at("search").withParams(e).get().then(function(e){return e.json()}).then(t)}},{key:"authenticate",value:function(e){var t=e.method,r=void 0===t?"GET":t,n=e.username,i=e.password,o=r.toLowerCase();if("get"!==o&&"post"!==o)return a.reject(new Error("GET and POST are the only valid methods for user authentication."));var s=c.base64.encode(n+":"+i),u=this._plug.at("authenticate").withHeader("Authorization","Basic "+s);return u[o]().then(function(e){return e.text()})}},{key:"getUser",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"current":arguments[0];return new l(e,this._settings)}}]),e}(),e("UserManager",d)}}}),e.register("1d",["1e"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.eventModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@upto",name:"upto"},{field:"@since",name:"since"},{field:"event",name:"events",isArray:!0,transform:t}],e("userActivityModel",r)}}}),e.register("1f",["1e"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.eventModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@upto",name:"upto"},{field:"@since",name:"since"},{field:"summary",isArray:!0,transform:[{field:"@id",name:"id"},{field:"@datetime",name:"datetime",transform:"date"},{field:"@count",name:"count",transform:"number"},{field:"@detailid",name:"detailId"},{field:"@uri.detail",name:"uriDetail"},{field:"event",transform:t}]}],e("eventListModel",r)}}}),e.register("1e",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@id",name:"id"},{field:"@datetime",name:"datetime",transform:"date"},{field:"@type",name:"type"},{field:"@journaled",name:"journaled",transform:"boolean"},{field:"@version",name:"version",transform:"number"},{field:["request","@id"],name:"requestId"},{field:"@language",name:"language"},{field:"page",transform:t},{field:"user",transform:[{field:"@id",name:"id",transform:"number"},{field:"name"}]},{field:"file",transform:[{field:"@id",name:"id",transform:"number"},{field:"@revision",name:"revision",transform:"number"},{field:"@res-id",name:"resId",transform:"number"},{field:"description"},{field:"filename"},{field:"location"}]},{field:"data",transform:[{field:"constraint"},{field:"path"},{field:"query"},{field:"limit",transform:"number"},{field:"qid",transform:"number"},{field:"totalrecommended",name:"totalRecommended",transform:"number"},{field:"totalresults",name:"totalResults",transform:"number"},{field:"_uri.host",name:"host"},{field:"_uri.query",name:"uriQuery"},{field:"_uri.scheme",name:"scheme"}]}],e("eventModel",r)}}}),e.register("21",["1e"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.eventModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"summary",transform:[{field:"@id",name:"id"},{field:"@datetime",name:"datetime",transform:"date"},{field:"@count",name:"count",transform:"number"},{field:"@journaled",name:"journaled",transform:"boolean"},{field:"@diffable",name:"diffable",transform:"boolean"},{field:"event",transform:t}]}],e("eventDetailModel",r)}}}),e.register("22",["16","17","19","21","1c","1a","1b","1d","1f"],function(e){var t,r,n,i,o,a,s,u,c,f;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.Settings},function(e){i=e.eventDetailModel},function(e){o=e.Plug},function(e){a=e.utility},function(e){s=e.modelParser},function(e){u=e.userActivityModel},function(e){c=e.eventListModel}],execute:function(){"use strict";f=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new n:arguments[0];r(this,e),this.settings=t,this.plug=new o(t.host,t.plugConfig).at("@api","deki","events")}return t(e,[{key:"getActivity",value:function(e,t){var r=a.getNormalizedUserActivityToken(e),n=s.createParser(u);return this.plug.at("support-agent",r).withParams(t).get().then(function(e){return e.json()}).then(n)}},{key:"getHistory",value:function(e){var t=s.createParser(c);return this.plug.at("user-page",a.getResourceId(e,"current")).get().then(function(e){return e.json()}).then(t)}},{key:"getHistoryDetail",value:function(e,t){var r=s.createParser(i);return this.plug.at("user-page",a.getResourceId(e,"current"),t).get().then(function(e){return e.json()}).then(r)}},{key:"logSearch",value:function(e,t){return this.plug.at("search",a.getResourceId(e,"current")).post(JSON.stringify(t),a.jsonRequestType)}},{key:"logWebWidgetImpression",value:function(){return this.plug.at("web-widget-impression").post()}}]),e}(),e("UserEvents",f)}}}),e.register("23",["15","16","17","22"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e.UserManager},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e.UserEvents}],execute:function(){"use strict";o=function(){function e(r){n(this,e),this.settings=r,this.martianUser=new t(r)}return r(e,[{key:"getCurrentUser",value:function(){return this.martianUser.getCurrentUser()}},{key:"getCurrentUserActivityToken",value:function(){return this.martianUser.getCurrentUserActivityToken()}},{key:"getLoginUrl",value:function(){return this.settings.host+"/@app/login/redirect"}},{key:"getActivity",value:function(e){var t=new i(this.settings);return t.getActivity(e,{include:"page"})}}]),e}(),e("User",o)}}}),e.register("24",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@ranking",name:"ranking"},{field:"@queryid",name:"queryId"},{field:"@querycount",name:"queryCount",transform:"number"},{field:"@count.recommendations",name:"recommendationCount",transform:"number"},{field:"@count",name:"count",transform:"number"},{field:"result",name:"results",isArray:!0,transform:[{field:"author"},{field:"content"},{field:"date.modified",name:"dateModified",transform:"date"},{field:"id",transform:"number"},{field:"mime"},{field:"rank",transform:"number"},{field:"title"},{field:"type"},{field:"uri"},{field:"uri.track",name:"uriTrack"},{field:"page",transform:t}]},{field:"summary",transform:[{field:"@path",name:"path"},{field:"results",isArray:!0,transform:[{field:"@path",name:"path"},{field:"@count",name:"count",transform:"number"},{field:"@title",name:"title"}]}]}],e("searchModel",r)}}}),e.register("25",["16","17","18","19","24","1c","1a","1b"],function(e){function t(e){var t=[];if(e.namespace="main",t.push("+namespace:"+u.searchEscape(e.namespace)),"path"in e){var r=e.path;"/"===r.substr(0,1)&&(r=r.substr(1)),t.push("+path.ancestor:"+u.searchEscape(r))}if("tags"in e){var n=e.tags;"string"==typeof n&&n&&(n=n.split(",")),n.forEach(function(e){t.push('+tag:"'+u.searchEscape(e)+'"')})}if("type"in e){var i=e.type;"string"==typeof i&&i&&(i=i.split(",")),i.forEach(function(e){t.push("+type:"+u.searchEscape(e))})}return"+("+t.join(" ")+")"}var r,n,i,o,a,s,u,c,f;return{setters:[function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e.Settings},function(e){a=e.searchModel},function(e){s=e.Plug},function(e){u=e.utility},function(e){c=e.modelParser}],execute:function(){"use strict";f=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new o:arguments[0];n(this,e),this.plug=new s(t.host,t.plugConfig).at("@api","deki","site")}return r(e,[{key:"getResourceString",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!("key"in e))return i.reject("No resource key was supplied");var t=this.plug.at("localization",e.key);return"lang"in e&&(t=t.withParam("lang",e.lang)),t.get().then(function(e){return e.text()})}},{key:"search",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=e.page,n=void 0===r?1:r,i=e.limit,o=void 0===i?10:i,s=e.tags,u=void 0===s?"":s,f=e.type,l=void 0===f?"":f,d=e.q,h=void 0===d?"":d,p=e.path,m=void 0===p?"":p,g=e.recommendations,v=void 0===g?!0:g,y={};""!==m&&"/"!==m&&(y.path=m),""!==u&&(y.tags=u),""!==l&&(y.type=l);var b={limit:o,page:n,offset:parseInt(o,10)*(parseInt(n,10)-1),sortBy:"-date,-rank",q:h,summarypath:encodeURI(m),constraint:t(y),recommendations:v},x=c.createParser(a);return this.plug.at("query").withParams(b).get().then(function(e){return e.json()}).then(x)}}]),e}(),e("Site",f)}}}),e.register("26",["16","17","25"],function(e){var t,r,n,i;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.Site}],execute:function(){"use strict";i=function(){function e(t){r(this,e),this.site=new n(t)}return t(e,[{key:"search",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!e||""===e)throw new Error("Search requires keywords or advanced search syntax.");return t.q=e,this.site.search(t)}}]),e}(),e("Search",i)}}}),e.register("27",["16","17","19","20","28","29","1c","1a","1b","2a"],function(e){var t,r,n,i,o,a,s,u,c,f,l,d;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.Settings},function(e){i=e.pageModel},function(e){o=e["default"]},function(e){a=e["default"]},function(e){s=e.Plug},function(e){u=e.utility},function(e){c=e.modelParser},function(e){f=e.PageBase}],execute:function(){"use strict";l=function(e){function u(){var e=arguments.length<=0||void 0===arguments[0]?"home":arguments[0],t=arguments.length<=1||void 0===arguments[1]?new n:arguments[1];r(this,u),o(Object.getPrototypeOf(u.prototype),"constructor",this).call(this,e),this._plug=new s(t.host,t.plugConfig).at("@api","deki","drafts",this._id)}return a(u,e),t(u,[{key:"deactivate",value:function(){var e=c.createParser(i);return this._plug.at("deactivate").post().then(function(e){return e.json()}).then(e)}},{key:"publish",value:function(){return this._plug.at("publish").post()}}]),u}(f),e("Draft",l),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new n:arguments[0];r(this,e),this._settings=t}return t(e,[{key:"createDraft",value:function(e){var t=new s(this._settings.host,this._settings.plugConfig).at("@api","deki","drafts",u.getResourceId(e),"create"),r=c.createParser(i);return t.post().then(function(e){return e.json()}).then(r)}},{key:"getDraft",value:function(e){return new l(e,this._settings)}}]),e}(),e("DraftManager",d)}}}),e.registerDynamic("2b",["2c","2d"],!0,function(e,t,r){var n=e("2c");return e("2d")("getOwnPropertyDescriptor",function(e){return function(t,r){return e(n(t),r)}}),r.exports}),e.registerDynamic("2e",["2f","2b"],!0,function(e,t,r){var n=e("2f");return e("2b"),r.exports=function(e,t){return n.getDesc(e,t)},r.exports}),e.registerDynamic("30",["2e"],!0,function(e,t,r){return r.exports={"default":e("2e"),__esModule:!0},r.exports}),e.registerDynamic("28",["30"],!0,function(e,t,r){"use strict";var n=e("30")["default"];return t["default"]=function(e,t,r){for(var i=!0;i;){var o=e,a=t,s=r;i=!1,null===o&&(o=Function.prototype);var u=n(o,a);if(void 0!==u){if("value"in u)return u.value;var c=u.get;if(void 0===c)return;return c.call(s)}var f=Object.getPrototypeOf(o);if(null===f)return;e=f,t=a,r=s,i=!0,u=f=void 0}},t.__esModule=!0,r.exports}),e.registerDynamic("31",["2f"],!0,function(e,t,r){var n=e("2f");return r.exports=function(e,t){return n.create(e,t)},r.exports}),e.registerDynamic("32",["31"],!0,function(e,t,r){return r.exports={"default":e("31"),__esModule:!0},r.exports}),e.registerDynamic("33",["34","35"],!0,function(e,t,r){var n=e("34");return n(n.S,"Object",{setPrototypeOf:e("35").set}),r.exports}),e.registerDynamic("36",["33","7"],!0,function(e,t,r){return e("33"),r.exports=e("7").Object.setPrototypeOf,r.exports}),e.registerDynamic("37",["36"],!0,function(e,t,r){return r.exports={"default":e("36"),__esModule:!0},r.exports}),e.registerDynamic("29",["32","37"],!0,function(e,t,r){"use strict";var n=e("32")["default"],i=e("37")["default"];return t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=n(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i?i(e,t):e.__proto__=t)},t.__esModule=!0,r.exports}),e.registerDynamic("38",["39","34","3a","3b","3c","3d","6","3e"],!0,function(e,t,r){"use strict";var n=e("39"),i=e("34"),o=e("3a"),a=e("3b"),s=e("3c"),u=e("3d"),c=e("6");return i(i.S+i.F*!e("3e")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,l=o(e),d="function"==typeof this?this:Array,h=arguments,p=h.length,m=p>1?h[1]:void 0,g=void 0!==m,v=0,y=c(l);if(g&&(m=n(m,p>2?h[2]:void 0,2)),void 0==y||d==Array&&s(y))for(t=u(l.length),r=new d(t);t>v;v++)r[v]=g?m(l[v],v):l[v];else for(f=y.call(l),r=new d;!(i=f.next()).done;v++)r[v]=g?a(f,m,[i.value,v],!0):i.value;return r.length=v,r}}),r.exports}),e.registerDynamic("3f",["a","38","7"],!0,function(e,t,r){return e("a"),e("38"),r.exports=e("7").Array.from,r.exports}),e.registerDynamic("40",["3f"],!0,function(e,t,r){return r.exports={"default":e("3f"),__esModule:!0},r.exports}),e.registerDynamic("41",["40"],!0,function(e,t,r){"use strict";var n=e("40")["default"];return t["default"]=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return n(e)},t.__esModule=!0,r.exports}),e.register("1b",["41"],function(e){var t,r;return{setters:[function(e){t=e["default"]}],execute:function(){"use strict";r={to:{"boolean":function(e){return"true"===e},date:function(e){var t=new Date(e);if(isNaN(t.getTime()))throw new Error("Failed converting to date");return t},number:function(e){var t=Number(e);if(String(t)!==e)throw new Error("Failed converting to integer");return t},json:function(e){return"string"==typeof e&&(e=JSON.parse(e)),e}},isValid:function(e){return 0===e||e===!1||Boolean(e)},forceArray:function(e){return r.isValid(e)?Array.isArray(e)?e:[e]:[]},getValue:function(e){if(e&&"object"==typeof e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;t>i;i++)n[i-1]=arguments[i];var o=n.shift();if(o in e){var a=1===n.length&&"#text"===n[0]&&"string"==typeof e[o];return 0===n.length||a?e[o]:r.getValue.apply(r,[e[o]].concat(n))}}},transformValue:function(e,t){var n=e;if("string"==typeof t)n=r.to[t](e);else if(Array.isArray(t)){var i=r.createParser(t);n=i(e)}else{if("function"!=typeof t)throw new Error("Invalid value used for the transform parameter while trying to convert "+e);n=t(e)}return n},parseProperty:function(e,n,i){var o=i.field,a=i.name,s=i.isArray,u=i.transform;if(!e||"object"!=typeof e)throw new TypeError("Cannot parse a non-object");var c=r.forceArray(o),f=r.getValue.apply(r,[e].concat(t(c)));if(s&&(f=r.forceArray(f)),(u&&r.isValid(f)||"function"==typeof u)&&(f=s?f.map(function(e){return r.transformValue(e,u)}):r.transformValue(f,u)),a=a||c[0],a in n)throw new Error('Duplicate "'+a+'" in parsing model');r.isValid(f)&&(n[a]=f)},createParser:function(e){return function(t){t=r.to.json(t);var n={};return e.forEach(function(e){return r.parseProperty(t,n,e)}),n}}},e("modelParser",r)}}}),e.register("42",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"tag",name:"tags",isArray:!0,transform:[{field:"@id",name:"id",transformer:"number"},{field:"@value",name:"value"},{field:"@href",name:"href"},{field:"title"},{field:"type"},{field:"uri"}]}],e("pageTagsModel",t)}}}),e.register("43",["14","20"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.userModel},function(e){r=e.pageModel}],execute:function(){n=[{field:"@id",name:"id",transform:"number"},{field:"@revision",name:"revision",transform:"number"},{field:"@res-id",name:"resId",transform:"number"},{field:"@href",name:"href"},{field:"@res-is-head",name:"resIsHead",transform:"boolean"},{field:"@res-is-deleted",name:"resIsDeleted",transform:"boolean"},{field:"@res-rev-is-head",name:"resRevIsHead",transform:"boolean"},{field:"@res-contents-id",
name:"resContentsId",transform:"number"},{field:"date.created",name:"dateCreated",transform:"date"},{field:"description"},{field:"filename"},{field:"contents",transform:[{field:"@type",name:"type"},{field:"@size",name:"size",transform:"number"},{field:"@href",name:"href"}]},{field:"user.createdby",name:"userCreatedBy",transform:t},{field:"page.parent",name:"pageParent",transform:r}],e("fileModel",n)}}}),e.register("44",["43"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.fileModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@offset",name:"offset",transform:"number"},{field:"@totalcount",name:"totalCount",transform:"number"},{field:"@href",name:"href"},{field:"file",name:"files",isArray:!0,transform:t}],e("pageFilesModel",r)}}}),e.register("45",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@status",name:"status"},{field:"page",transform:t},{field:"draft",transform:t},{field:"page.base",name:"pageBase",transform:t},{field:"page.overwritten",name:"pageOverwritten",transform:t}],e("pageEditModel",r)}}}),e.register("46",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"page",name:"pages",isArray:!0,transform:t}],e("relatedPagesModel",r)}}}),e.register("2a",["16","17","18","20","42","44","45","46","47","48","1a","1b"],function(e){function t(e){if(404===e.status&&e.responseText){var t=JSON.parse(e.responseText);if("true"===t["@virtual"]){var r=h.createParser(o);return i.resolve(r(t))}}throw e}var r,n,i,o,a,s,u,c,f,l,d,h,p;return{setters:[function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e.pageModel},function(e){a=e.pageTagsModel},function(e){s=e.pageFilesModel},function(e){u=e.pageEditModel},function(e){c=e.relatedPagesModel},function(e){f=e["default"]},function(e){l=e.pageContentsModel},function(e){d=e.utility},function(e){h=e.modelParser}],execute:function(){"use strict";p=function(){function e(t){if(n(this,e),"PageBase"===this.constructor.name)throw new TypeError("PageBase must not be constructed directly.  Use one of Page() or Draft()");this._id=d.getResourceId(t,"home")}return r(e,[{key:"getFullInfo",value:function(){var e=h.createParser(o);return this._plug.get().then(function(e){return e.json()}).then(e)["catch"](t)}},{key:"getContents",value:function(e){var t=h.createParser(l);return this._plug.at("contents").withParams(e).get().then(function(e){return e.json()}).then(t)}},{key:"setContents",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"!=typeof e)return i.reject(new Error("Contents should be string."));var r={edittime:"now"};f(t).forEach(function(e){r[e]=t[e]});var n=h.createParser(u);return this._plug.at("contents").withParams(r).post(e,d.textRequestType).then(function(e){return e.json()}).then(n)}},{key:"getFiles",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=h.createParser(s);return this._plug.at("files").withParams(e).get().then(function(e){return e.json()}).then(t)}},{key:"getOverview",value:function(){return this._plug.at("overview").get().then(function(e){return e.json()}).then(function(e){return i.resolve({overview:e})})["catch"](function(){return i.reject("Unable to parse the page overview response")})}},{key:"setOverview",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!("body"in e))return i.reject(new Error("No overview body was supplied"));var t="<overview>"+e.body+"</overview>";return this._plug.at("overview").put(t,d.xmlRequestType)}},{key:"getTags",value:function(){var e=h.createParser(a);return this._plug.at("tags").get().then(function(e){return e.json()}).then(e)}},{key:"getDiff",value:function(){throw new Error("Page.getDiff() is not implemented")}},{key:"getRelated",value:function(){var e=h.createParser(c);return this._plug.at("related").get().then(function(e){return e.json()}).then(e)}}]),e}(),e("PageBase",p)}}}),e.register("49",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:"@totalcount",name:"totalCount",transform:"number"},{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"page.subpage",name:"subpages",isArray:!0,transform:[{field:"@id",name:"id",transform:"number"},{field:"@href",name:"href"},{field:"@deleted",name:"deleted",transform:"boolean"},{field:"@subpages",name:"hasSubpages",transform:"boolean"},{field:"date.created",name:"dateCreated",transform:"date"},{field:"language"},{field:"namespace"},{field:["path","#text"]},{field:"title"},{field:"uri.ui",name:"uri"}]}],e("subpagesModel",t)}}}),e.registerDynamic("4a",["4b"],!0,function(e,t,r){"use strict";var n=e("4b")["default"];return t["default"]=function(e,t,r){return t in e?n(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},t.__esModule=!0,r.exports}),e.register("48",["4a"],function(e){var t,r;return{setters:[function(e){t=e["default"]}],execute:function(){"use strict";r=[{field:"@type",name:"type"},{field:"@title",name:"title"},{field:"@unsafe",name:"unsafe",transform:"boolean"},{field:"@draft",name:"draft",transform:"boolean"},{field:"head"},{field:"tail"},{field:"body",transform:function(e){return Array.isArray(e)?e[0]:e}},{field:"body",name:"targets",transform:function(e){var r=[];if(Array.isArray(e))for(var n=1;n<e.length;n++)r.push(t({},e[n]["@target"],e[n]["#text"]));return r}}],e("pageContentsModel",r)}}}),e.register("4c",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"page",transform:t}],e("pageTreeModel",r)}}}),e.register("4d",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"page",name:"pages",isArray:!0,transform:t}],e("pageMoveModel",r)}}}),e.register("4e",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"@href",name:"href"},{field:"page",name:"pages",isArray:!0,transform:t}],e("pageRatingsModel",r)}}}),e.register("4f",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:"@count",name:"count",transform:"number"},{field:"@date",name:"date",transform:"date"},{field:"@seated.count",name:"seatedCount",transform:"number"},{field:"@unseated.count",name:"unseatedCount",transform:"number"},{field:"@score",name:"score",transform:"number"},{field:"@seated.score",name:"seatedScore",transform:"number"},{field:"@unseated.score",name:"unseatedScore",transform:"number"},{field:"@score.trend",name:"scoreTrend",transform:"number"},{field:"@seated.score.trend",name:"seatedScoreTrend",transform:"number"},{field:"@unseated.score.trend",name:"unseatedScoreTrend",transform:"number"},{field:"user.ratedby",name:"userRatedBy",transform:[{field:"@id",name:"id",transform:"number"},{field:"@score",name:"score",transform:"number"},{field:"@date",name:"date",transform:"date"},{field:"@href",name:"href"},{field:"@seated",name:"seated",transform:"boolean"}]}],e("pageRatingModel",t)}}}),e.register("50",[],function(e){"use strict";var t;return{setters:[],execute:function(){t=[{field:["operations","#text"],transform:function(e){var t=[];return"string"==typeof e&&(t=e.split(",")),t}},{field:"role",transform:function(e){var t={};return"string"==typeof e?t.name=e:e&&"object"==typeof e&&("#text"in e&&(t.name=e["#text"]),"@id"in e&&(t.id=parseInt(e["@id"],10)),"@href"in e&&(t.href=e["@href"])),t}}],e("permissionsModel",t)}}}),e.register("14",["20","50"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.pageModel},function(e){r=e.permissionsModel}],execute:function(){n=[{field:"@id",name:"id",transform:"number"},{field:"@anonymous",name:"anonymous",transform:"boolean"},{field:"@wikiid",name:"wikiId"},{field:"@href",name:"href"},{field:"date.created",name:"dateCreated"},{field:"email"},{field:"fullname"},{field:"username"},{field:"nick"},{field:"status"},{field:["license.seat","#text"],name:"seated",transform:"boolean"},{field:["license.seat","@owner"],name:"siteOwner",transform:"boolean"},{field:"date.lastlogin",name:"dateLastLogin",transform:"date"},{field:"page.home",name:"pageHome",transform:t},{field:"permissions.user",name:"userPermissions",transform:r}],e("userModel",n)}}}),e.register("20",["14","4f"],function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.userModel},function(e){r=e.pageRatingModel}],execute:function(){n=[{field:"@id",name:"id",transform:"number"},{field:"title"},{field:"uri.ui",name:"uri"},{field:"@href",name:"href"},{field:"@state",name:"state"},{field:"@draft.state",name:"draftState"},{field:"article"},{field:"language"},{field:"namespace"},{field:"language.effective",name:"languageEffective"},{field:"timeuuid"},{field:["path","#text"]},{field:"@revision",name:"revision",transform:"number"},{field:"date.created",name:"dateCreated",transform:"date"},{field:"@deleted",name:"deleted",transform:"boolean"},{field:"@publish",name:"publish",transform:"boolean"},{field:"@unpublish",name:"unpublish",transform:"boolean"},{field:"@deactivate",name:"deactivate",transform:"boolean"},{field:"@virtual",name:"virtual",transform:"boolean"},{field:"date.modified",name:"dateModified",transform:"date"},{field:"date.edited",name:"dateEdited",transform:"date"},{field:"rating",transform:r},{field:"user.author",name:"userAuthor",transform:t}],e("pageModel",n),n.push({field:"page.parent",name:"pageParent",transform:n})}}}),e.register("51",["20"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.pageModel}],execute:function(){r=[{field:"@count",name:"count",transform:"number"},{field:"page",name:"pages",isArray:!0,transform:t}],e("pageDeleteModel",r)}}}),e.register("52",["16","17","18","19","20","28","29","47","48","49","51","1c","1a","1b","2a","4c","4f","4d","4e"],function(e){var t,r,n,i,o,a,s,u,c,f,l,d,h,p,m,g,v,y,b,x,w;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e.Settings},function(e){o=e.pageModel},function(e){a=e["default"]},function(e){s=e["default"]},function(e){u=e["default"]},function(e){c=e.pageContentsModel},function(e){f=e.subpagesModel},function(e){l=e.pageDeleteModel},function(e){d=e.Plug},function(e){h=e.utility},function(e){p=e.modelParser},function(e){m=e.PageBase},function(e){g=e.pageTreeModel},function(e){v=e.pageRatingModel},function(e){y=e.pageMoveModel},function(e){b=e.pageRatingsModel}],execute:function(){"use strict";x=function(e){function m(){var e=arguments.length<=0||void 0===arguments[0]?"home":arguments[0],t=arguments.length<=1||void 0===arguments[1]?new i:arguments[1];r(this,m),a(Object.getPrototypeOf(m.prototype),"constructor",this).call(this,e),this._settings=t,this._plug=new d(t.host,t.plugConfig).at("@api","deki","pages",this._id)}return s(m,e),t(m,[{key:"getInfo",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={exclude:"revision"};u(e).forEach(function(r){t[r]=e[r]});var r=p.createParser(o);return this._plug.at("info").withParams(t).get().then(function(e){return e.json()}).then(r)}},{key:"getSubpages",value:function(e){var t=p.createParser(f);return this._plug.at("subpages").withParams(e).get().then(function(e){return e.json()}).then(t)}},{key:"getTree",value:function(e){var t=p.createParser(g);return this._plug.at("tree").withParams(e).get().then(function(e){return e.json()}).then(t)}},{key:"getTreeIds",value:function(){return this._plug.at("tree").withParam("format","ids").get().then(function(e){return e.text()}).then(function(e){return e.split(",").map(function(e){var t=parseInt(e,10);if(isNaN(t))throw new Error("Unable to parse the tree IDs.");return t})})["catch"](function(e){return n.reject({message:e.message})})}},{key:"getRating",value:function(){var e=p.createParser(v);return this._plug.at("ratings").get().then(function(e){return e.json()}).then(e)}},{key:"rate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(e=e.toString(),t=t.toString(),"1"!==e&&"0"!==e&&""!==e)throw new Error("Invalid rating supplied");if("1"!==t&&"0"!==t&&""!==t)throw new Error("Invalid rating supplied for the old rating");var r=p.createParser(v);return this._plug.at("ratings").withParams({score:e,previousScore:t}).post(null,h.textRequestType).then(function(e){return e.json()}).then(r)}},{key:"getHtmlTemplate",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t.pageid=this._id;var r="="+encodeURIComponent(encodeURIComponent(e)),n=new d(this._settings.host,this._settings.plugConfig).at("@api","deki","pages",r,"contents").withParams(t),i=p.createParser(c);return n.get().then(function(e){return e.json()}).then(i)}},{key:"move",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=p.createParser(y);return this._plug.at("move").withParams(e).post(null,"text/plain; charset=utf-8").then(function(e){return e.json()}).then(t)}},{key:"delete",value:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=p.createParser(l);return this._plug.withParam("recursive",e)["delete"]().then(function(e){return e.json()}).then(t)}},{key:"activateDraft",value:function(){var e=p.createParser(o);return this._plug.at("activate-draft").post().then(function(e){return e.json()}).then(e)}}]),m}(m),e("Page",x),w=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new i:arguments[0];r(this,e),this._plug=new d(t.host,t.plugConfig).at("@api","deki","pages")}return t(e,[{key:"getRatings",value:function(e){var t=this._plug.at("pages","ratings").withParams({pageids:e.join(",")}),r=p.createParser(b);return t.get().then(function(e){return e.json()}).then(r)}}]),e}(),e("PageManager",w)}}}),e.register("53",["16","17","18","27","41","52"],function(e){function t(e){var t="";return e.forEach(function(e){t=t+"<a>"+e+"</a>"}),t='<p class="template:tag-insert">'+t+"</p>"}var r,n,i,o,a,s,u;return{setters:[function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e.DraftManager},function(e){a=e["default"]},function(e){s=e.Page}],execute:function(){"use strict";u=function(){function e(t){n(this,e),this._settings=t}return r(e,[{key:"createUnpublished",value:function(e){var r=this,n=e.path,s=e.content,u=void 0===s?"":s,c=e.title,f=void 0===c?null:c,l=e.type,d=void 0===l?"article:topic":l,h=e.tags,p=void 0===h?[]:h;return new i(function(e,i){var s=new o(r._settings),c=[].concat(a(p));s.createDraft(n).then(function(r){c.indexOf(d)<0&&c.push(d);var n=t(c),o=""+u+n,a={};null!==f&&(a.title=f);var l=s.getDraft(r.id);l.setContents(o,a).then(function(t){e(t)})["catch"](function(){i("An error occurred while setting the unpublished article content")})})["catch"](function(){i("An error occurred while creating the unpublished article")})})}},{key:"createPublished",value:function(e){var r=this,n=e.path,o=e.title,a=void 0===o?null:o,u=e.content,c=void 0===u?"":u,f=e.type,l=void 0===f?"article:topic":f,d=e.tags,h=void 0===d?[]:d;return new i(function(e,i){var o=new s(n,r._settings);h.indexOf(l)<0&&h.push(l);var u=c+"\n            "+t(h),f={};null!==a&&(f.title=a),o.setContents(u,f).then(function(t){e(t)})["catch"](function(){i("An error occurred while creating the published article")})})}}]),e}(),e("Article",u)}}}),e.registerDynamic("54",[],!0,function(e,t,r){var n=Object;return r.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach},r.exports}),e.registerDynamic("55",[],!0,function(e,t,r){return r.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},r.exports}),e.registerDynamic("56",[],!0,function(e,t,r){return r.exports=function(e){try{return!!e()}catch(t){return!0}},r.exports}),e.registerDynamic("57",["56"],!0,function(e,t,r){return r.exports=!e("56")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),r.exports}),e.registerDynamic("58",["54","55","57"],!0,function(e,t,r){var n=e("54"),i=e("55");return r.exports=e("57")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e},r.exports}),e.registerDynamic("59",[],!0,function(e,t,r){var n=r.exports={version:"1.2.6"};return"number"==typeof __e&&(__e=n),r.exports}),e.registerDynamic("5a",["5b","58","5c","59"],!0,function(e,t,r){var n=this,n=e("5b"),i=e("58"),o=e("5c")("src"),a="toString",s=Function[a],u=(""+s).split(a);return e("59").inspectSource=function(e){return s.call(e)},(r.exports=function(e,t,r,a){"function"==typeof r&&(r.hasOwnProperty(o)||i(r,o,e[t]?""+e[t]:u.join(String(t))),r.hasOwnProperty("name")||i(r,"name",t)),e===n?e[t]=r:(a||delete e[t],i(e,t,r))})(Function.prototype,a,function(){return"function"==typeof this&&this[o]||s.call(this)}),r.exports}),e.registerDynamic("5d",[],!0,function(e,t,r){return r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},r.exports}),e.registerDynamic("5e",["5d"],!0,function(e,t,r){var n=e("5d");return r.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},r.exports}),e.registerDynamic("5f",["5b","59","58","5a","5e"],!0,function(e,t,r){var n=this,n=e("5b"),i=e("59"),o=e("58"),a=e("5a"),s=e("5e"),u="prototype",c=function(e,t,r){var f,l,d,h,p=e&c.F,m=e&c.G,g=e&c.S,v=e&c.P,y=e&c.B,b=m?n:g?n[t]||(n[t]={}):(n[t]||{})[u],x=m?i:i[t]||(i[t]={}),w=x[u]||(x[u]={});m&&(r=t);for(f in r)l=!p&&b&&f in b,d=(l?b:r)[f],h=y&&l?s(d,n):v&&"function"==typeof d?s(Function.call,d):d,b&&!l&&a(b,f,d),x[f]!=d&&o(x,f,h),v&&w[f]!=d&&(w[f]=d)};return n.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,r.exports=c,r.exports}),e.registerDynamic("60",[],!0,function(e,t,r){return r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e},r.exports}),e.registerDynamic("61",[],!0,function(e,t,r){var n={}.toString;return r.exports=function(e){return n.call(e).slice(8,-1)},r.exports}),e.registerDynamic("62",["60","61","63"],!0,function(e,t,r){var n=e("60"),i=e("61"),o=e("63")("match");return r.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))},r.exports}),e.registerDynamic("64",[],!0,function(e,t,r){return r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},r.exports}),e.registerDynamic("65",["62","64"],!0,function(e,t,r){var n=e("62"),i=e("64");return r.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))},r.exports}),e.registerDynamic("66",["5b"],!0,function(e,t,r){var n=this,n=e("5b"),i="__core-js_shared__",o=n[i]||(n[i]={});return r.exports=function(e){return o[e]||(o[e]={})},r.exports}),e.registerDynamic("5c",[],!0,function(e,t,r){var n=0,i=Math.random();return r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))},r.exports}),e.registerDynamic("5b",[],!0,function(e,t,r){var n=this,n=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();return"number"==typeof __g&&(__g=n),r.exports}),e.registerDynamic("63",["66","5c","5b"],!0,function(e,t,r){var n=e("66")("wks"),i=e("5c"),o=e("5b").Symbol;return r.exports=function(e){return n[e]||(n[e]=o&&o[e]||(o||i)("Symbol."+e))},r.exports}),e.registerDynamic("67",["63"],!0,function(e,t,r){var n=e("63")("match");return r.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(i){}}return!0},r.exports}),e.registerDynamic("68",["5f","65","67"],!0,function(e,t,r){"use strict";var n=e("5f"),i=e("65"),o="includes";return n(n.P+n.F*e("67")(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:void 0)}}),r.exports}),e.register("1a",["68"],function(e){"use strict";var t;return{setters:[function(e){}],execute:function(){t={xmlRequestType:"application/xml; charset=utf-8",textRequestType:"text/plain; charset=utf-8",jsonRequestType:"application/json; charset=utf-8",searchEscape:function(e){var t=e.toString(),r=["\\","+","-","&","|","!","(",")","{","}","[","]","^",'"',"~","*","?",":"];return r.forEach(function(e){var r=new RegExp("\\"+e,"g");t=t.replace(r,"\\"+e)}),t},getResourceId:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=null;return r="string"==typeof e&&e!==t?"="+encodeURIComponent(encodeURIComponent(e)):e},getNormalizedUserActivityToken:function(e){var t=null;if("string"==typeof e)t=e.includes(":")?e:"="+encodeURIComponent(encodeURIComponent(e));else{if("number"!=typeof e)throw new Error("The user activity token must be a string or number");t=e}return t},getFilenameId:function(e){if("string"!=typeof e)throw new Error("The filename must be a string");var t=encodeURIComponent(encodeURIComponent(e));return e.includes(".")||(t="="+t),t},base64:{encode:function(e){return"undefined"==typeof window?new Buffer(e).toString("base64"):window.btoa(e)},decode:function(e){return"undefined"==typeof window?new Buffer(e,"base64").toString("utf8"):window.atob(e)}}},e("utility",t)}}}),e.register("69",["16","17","19","1c","1a"],function(e){var t,r,n,i,o,a;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.Settings},function(e){i=e.Plug},function(e){o=e.utility}],execute:function(){"use strict";a=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?new n:arguments[0];r(this,e),this._plug=new i(t.host,t.plugConfig).at("@api","deki","workflow")}return t(e,[{key:"submitFeedback",value:function(e){var t=e.path;if(!t)throw new Error("The page path for feedback must be supplied");var r=JSON.stringify({_path:encodeURIComponent(t),userEmail:e.userEmail,pageTitle:e.pageTitle,siteUrl:e.siteUrl,content:e.content,contactAllowed:e.contactAllowed});return this._plug.at("submit-feedback").post(r,o.jsonRequestType)}},{key:"requestArticle",value:function(e){var t=JSON.stringify(e);return this._plug.at("submit-article-request").post(t,o.jsonRequestType)}},{key:"submitIssue",value:function(e){var t=JSON.stringify(e);return this._plug.at("submit-issue").post(t,o.jsonRequestType)}},{key:"contactSupport",value:function(e){var t=JSON.stringify(e);return this._plug.at("contact-support").post(t,o.jsonRequestType)}}]),e}(),e("WorkflowManager",a)}}}),e.register("6a",["16","17","69"],function(e){var t,r,n,i;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.WorkflowManager}],execute:function(){"use strict";i=function(){function e(t){r(this,e),this._manager=new n(t)}return t(e,[{key:"submitIssue",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"email"in e&&(e._email=e.email,delete e.email),"path"in e&&(e._path=e.path,delete e.path),"search"in e&&(e._search=e.search,delete e.search),this._manager.submitIssue(e)}},{key:"requestArticle",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"email"in e&&(e._email=e.email,delete e.email),this._manager.requestArticle(e)}},{key:"contactSupport",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return"email"in e&&(e._email=e.email,delete e.email),"path"in e&&(e._path=e.path,delete e.path),"search"in e&&(e._search=e.search,delete e.search),this._manager.contactSupport(e)}}]),e}(),e("Workflows",i)}}}),e.registerDynamic("6b",["2f"],!0,function(e,t,r){var n=e("2f");return r.exports=function(e,t){return n.setDescs(e,t)},r.exports}),e.registerDynamic("6c",["6b"],!0,function(e,t,r){return r.exports={"default":e("6b"),__esModule:!0},r.exports}),e.registerDynamic("6d",[],!0,function(e,t,r){return r.exports}),e.registerDynamic("6e",["6f","70"],!0,function(e,t,r){var n=e("6f"),i=e("70");return r.exports=function(e){return function(t,r){var o,a,s=String(i(t)),u=n(r),c=s.length;return 0>u||u>=c?e?"":void 0:(o=s.charCodeAt(u),55296>o||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}},r.exports}),e.registerDynamic("a",["6e","71"],!0,function(e,t,r){"use strict";var n=e("6e")(!0);return e("71")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}),r.exports}),e.registerDynamic("72",[],!0,function(e,t,r){return r.exports=function(){},r.exports}),e.registerDynamic("73",[],!0,function(e,t,r){return r.exports=function(e,t){return{value:t,done:!!e}},r.exports}),e.registerDynamic("74",["75"],!0,function(e,t,r){var n=e("75");return r.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)},r.exports}),e.registerDynamic("2c",["74","70"],!0,function(e,t,r){var n=e("74"),i=e("70");return r.exports=function(e){return n(i(e))},r.exports}),e.registerDynamic("76",["2f","77","78","79","e"],!0,function(e,t,r){"use strict";var n=e("2f"),i=e("77"),o=e("78"),a={};return e("79")(a,e("e")("iterator"),function(){return this}),r.exports=function(e,t,r){e.prototype=n.create(a,{next:i(1,r)}),o(e,t+" Iterator")},r.exports}),e.registerDynamic("71",["7a","34","7b","79","7c","f","76","78","2f","e"],!0,function(e,t,r){"use strict";var n=e("7a"),i=e("34"),o=e("7b"),a=e("79"),s=e("7c"),u=e("f"),c=e("76"),f=e("78"),l=e("2f").getProto,d=e("e")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",g="values",v=function(){return this};return r.exports=function(e,t,r,y,b,x,w){c(r,t,y);var _,k,D=function(e){if(!h&&e in S)return S[e];switch(e){case m:return function(){return new r(this,e)};case g:return function(){return new r(this,e)}}return function(){return new r(this,e)}},P=t+" Iterator",M=b==g,E=!1,S=e.prototype,T=S[d]||S[p]||b&&S[b],A=T||D(b);if(T){var j=l(A.call(new e));f(j,P,!0),!n&&s(S,p)&&a(j,d,v),M&&T.name!==g&&(E=!0,A=function(){return T.call(this)})}if(n&&!w||!h&&!E&&S[d]||a(S,d,A),u[t]=A,u[P]=v,b)if(_={values:M?A:D(g),keys:x?A:D(m),entries:M?D("entries"):A},w)for(k in _)k in S||o(S,k,_[k]);else i(i.P+i.F*(h||E),t,_);return _},r.exports}),e.registerDynamic("7d",["72","73","f","2c","71"],!0,function(e,t,r){"use strict";var n=e("72"),i=e("73"),o=e("f"),a=e("2c");return r.exports=e("71")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):"keys"==t?i(0,r):"values"==t?i(0,e[r]):i(0,[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries"),r.exports}),e.registerDynamic("9",["7d","f"],!0,function(e,t,r){e("7d");var n=e("f");return n.NodeList=n.HTMLCollection=n.Array,r.exports}),e.registerDynamic("7a",[],!0,function(e,t,r){return r.exports=!0,r.exports}),e.registerDynamic("7e",[],!0,function(e,t,r){return r.exports=function(e,t,r){if(!(e instanceof t))throw TypeError(r+": use the 'new' operator!");return e},r.exports}),e.registerDynamic("3b",["5"],!0,function(e,t,r){var n=e("5");return r.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){var a=e["return"];throw void 0!==a&&n(a.call(e)),o}},r.exports}),e.registerDynamic("3c",["f","e"],!0,function(e,t,r){var n=e("f"),i=e("e")("iterator"),o=Array.prototype;return r.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)},r.exports}),e.registerDynamic("6f",[],!0,function(e,t,r){var n=Math.ceil,i=Math.floor;return r.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)},r.exports}),e.registerDynamic("3d",["6f"],!0,function(e,t,r){var n=e("6f"),i=Math.min;return r.exports=function(e){return e>0?i(n(e),9007199254740991):0},r.exports}),e.registerDynamic("d",["75","e"],!0,function(e,t,r){var n=e("75"),i=e("e")("toStringTag"),o="Arguments"==n(function(){return arguments}());return r.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=(t=Object(e))[i])?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a},r.exports}),e.registerDynamic("f",[],!0,function(e,t,r){return r.exports={},r.exports}),e.registerDynamic("6",["d","e","f","7"],!0,function(e,t,r){var n=e("d"),i=e("e")("iterator"),o=e("f");return r.exports=e("7").getIteratorMethod=function(e){return void 0!=e?e[i]||e["@@iterator"]||o[n(e)]:void 0},r.exports}),e.registerDynamic("7f",["39","3b","3c","5","3d","6"],!0,function(e,t,r){var n=e("39"),i=e("3b"),o=e("3c"),a=e("5"),s=e("3d"),u=e("6");return r.exports=function(e,t,r,c){var f,l,d,h=u(e),p=n(r,c,t?2:1),m=0;if("function"!=typeof h)throw TypeError(e+" is not iterable!");if(o(h))for(f=s(e.length);f>m;m++)t?p(a(l=e[m])[0],l[1]):p(e[m]);else for(d=h.call(e);!(l=d.next()).done;)i(d,p,l.value,t)},r.exports}),e.registerDynamic("35",["2f","80","5","39"],!0,function(e,t,r){var n=e("2f").getDesc,i=e("80"),o=e("5"),a=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};return r.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,i){try{i=e("39")(Function.call,n(Object.prototype,"__proto__").set,2),i(t,[]),r=!(t instanceof Array)}catch(o){r=!0}return function(e,t){return a(e,t),r?e.__proto__=t:i(e,t),e}}({},!1):void 0),check:a},r.exports}),e.registerDynamic("81",[],!0,function(e,t,r){return r.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t},r.exports}),e.registerDynamic("5",["80"],!0,function(e,t,r){var n=e("80");return r.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e},r.exports}),e.registerDynamic("82",["5","83","e"],!0,function(e,t,r){var n=e("5"),i=e("83"),o=e("e")("species");return r.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)},r.exports}),e.registerDynamic("84",[],!0,function(e,t,r){return r.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)},r.exports}),e.registerDynamic("85",["86"],!0,function(e,t,r){return r.exports=e("86").document&&document.documentElement,r.exports}),e.registerDynamic("80",[],!0,function(e,t,r){return r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e},r.exports}),e.registerDynamic("87",["80","86"],!0,function(e,t,r){var n=e("80"),i=e("86").document,o=n(i)&&n(i.createElement);return r.exports=function(e){return o?i.createElement(e):{}},r.exports}),e.registerDynamic("88",["39","84","85","87","86","75","89"],!0,function(e,t,r){return function(t){var n,i,o,a=e("39"),s=e("84"),u=e("85"),c=e("87"),f=e("86"),t=f.process,l=f.setImmediate,d=f.clearImmediate,h=f.MessageChannel,p=0,m={},g="onreadystatechange",v=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},y=function(e){v.call(e.data)};l&&d||(l=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return m[++p]=function(){s("function"==typeof e?e:Function(e),t)},n(p),p},d=function(e){delete m[e]},"process"==e("75")(t)?n=function(e){t.nextTick(a(v,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=y,n=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(e){f.postMessage(e+"","*")},f.addEventListener("message",y,!1)):n=g in c("script")?function(e){u.appendChild(c("script"))[g]=function(){u.removeChild(this),v.call(e)}}:function(e){setTimeout(a(v,e,1),0);
}),r.exports={set:l,clear:d}}(e("89")),r.exports}),e.registerDynamic("75",[],!0,function(e,t,r){var n={}.toString;return r.exports=function(e){return n.call(e).slice(8,-1)},r.exports}),e.registerDynamic("8a",["86","88","75","89"],!0,function(e,t,r){return function(t){var n,i,o,a=e("86"),s=e("88").set,u=a.MutationObserver||a.WebKitMutationObserver,t=a.process,c=a.Promise,f="process"==e("75")(t),l=function(){var e,r,o;for(f&&(e=t.domain)&&(t.domain=null,e.exit());n;)r=n.domain,o=n.fn,r&&r.enter(),o(),r&&r.exit(),n=n.next;i=void 0,e&&e.enter()};if(f)o=function(){t.nextTick(l)};else if(u){var d=1,h=document.createTextNode("");new u(l).observe(h,{characterData:!0}),o=function(){h.data=d=-d}}else o=c&&c.resolve?function(){c.resolve().then(l)}:function(){s.call(a,l)};r.exports=function(e){var r={fn:e,next:void 0,domain:f&&t.domain};i&&(i.next=r),n||(n=r,o()),i=r}}(e("89")),r.exports}),e.registerDynamic("77",[],!0,function(e,t,r){return r.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},r.exports}),e.registerDynamic("79",["2f","77","8b"],!0,function(e,t,r){var n=e("2f"),i=e("77");return r.exports=e("8b")?function(e,t,r){return n.setDesc(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e},r.exports}),e.registerDynamic("7b",["79"],!0,function(e,t,r){return r.exports=e("79"),r.exports}),e.registerDynamic("8c",["7b"],!0,function(e,t,r){var n=e("7b");return r.exports=function(e,t){for(var r in t)n(e,r,t[r]);return e},r.exports}),e.registerDynamic("7c",[],!0,function(e,t,r){var n={}.hasOwnProperty;return r.exports=function(e,t){return n.call(e,t)},r.exports}),e.registerDynamic("78",["2f","7c","e"],!0,function(e,t,r){var n=e("2f").setDesc,i=e("7c"),o=e("e")("toStringTag");return r.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})},r.exports}),e.registerDynamic("8b",["8d"],!0,function(e,t,r){return r.exports=!e("8d")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),r.exports}),e.registerDynamic("8e",["7","2f","8b","e"],!0,function(e,t,r){"use strict";var n=e("7"),i=e("2f"),o=e("8b"),a=e("e")("species");return r.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.setDesc(t,a,{configurable:!0,get:function(){return this}})},r.exports}),e.registerDynamic("8f",["86"],!0,function(e,t,r){var n=this,n=e("86"),i="__core-js_shared__",o=n[i]||(n[i]={});return r.exports=function(e){return o[e]||(o[e]={})},r.exports}),e.registerDynamic("90",[],!0,function(e,t,r){var n=0,i=Math.random();return r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))},r.exports}),e.registerDynamic("e",["8f","90","86"],!0,function(e,t,r){var n=e("8f")("wks"),i=e("90"),o=e("86").Symbol;return r.exports=function(e){return n[e]||(n[e]=o&&o[e]||(o||i)("Symbol."+e))},r.exports}),e.registerDynamic("3e",["e"],!0,function(e,t,r){var n=e("e")("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}return r.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(s){}return r},r.exports}),e.registerDynamic("91",[],!0,function(e,t,r){function n(e){if(c===setTimeout)return setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){p&&d&&(p=!1,d.length?h=d.concat(h):m=-1,h.length&&a())}function a(){if(!p){var e=n(o);p=!0;for(var t=h.length;t;){for(d=h,h=[];++m<t;)d&&d[m].run();m=-1,t=h.length}d=null,p=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var c,f,l=r.exports={};!function(){try{c=setTimeout}catch(e){c=function(){throw new Error("setTimeout is not defined")}}try{f=clearTimeout}catch(e){f=function(){throw new Error("clearTimeout is not defined")}}}();var d,h=[],p=!1,m=-1;return l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new s(e,t)),1!==h.length||p||n(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0},r.exports}),e.registerDynamic("92",["91"],!0,function(e,t,r){return r.exports=e("91"),r.exports}),e.registerDynamic("93",["92"],!0,function(t,r,n){return n.exports=e._nodeRequire?process:t("92"),n.exports}),e.registerDynamic("89",["93"],!0,function(e,t,r){return r.exports=e("93"),r.exports}),e.registerDynamic("94",["2f","7a","86","39","d","34","80","5","83","7e","7f","35","81","e","82","8a","8b","8c","78","8e","7","3e","89"],!0,function(e,t,r){return function(t){"use strict";var r,n=e("2f"),i=e("7a"),o=e("86"),a=e("39"),s=e("d"),u=e("34"),c=e("80"),f=e("5"),l=e("83"),d=e("7e"),h=e("7f"),p=e("35").set,m=e("81"),g=e("e")("species"),v=e("82"),y=e("8a"),b="Promise",t=o.process,x="process"==s(t),w=o[b],_=function(){},k=function(e){var t,r=new w(_);return e&&(r.constructor=function(e){e(_,_)}),(t=w.resolve(r))["catch"](_),t===r},D=function(){function t(e){var r=new w(e);return p(r,t.prototype),r}var r=!1;try{if(r=w&&w.resolve&&k(),p(t,w),t.prototype=n.create(w.prototype,{constructor:{value:t}}),t.resolve(5).then(function(){})instanceof t||(r=!1),r&&e("8b")){var i=!1;w.resolve(n.setDesc({},"then",{get:function(){i=!0}})),r=i}}catch(o){r=!1}return r}(),P=function(e,t){return i&&e===w&&t===r?!0:m(e,t)},M=function(e){var t=f(e)[g];return void 0!=t?t:e},E=function(e){var t;return c(e)&&"function"==typeof(t=e.then)?t:!1},S=function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=l(t),this.reject=l(r)},T=function(e){try{e()}catch(t){return{error:t}}},A=function(e,r){if(!e.n){e.n=!0;var n=e.c;y(function(){for(var i=e.v,a=1==e.s,s=0,u=function(t){var r,n,o=a?t.ok:t.fail,s=t.resolve,u=t.reject;try{o?(a||(e.h=!0),r=o===!0?i:o(i),r===t.promise?u(TypeError("Promise-chain cycle")):(n=E(r))?n.call(r,s,u):s(r)):u(i)}catch(c){u(c)}};n.length>s;)u(n[s++]);n.length=0,e.n=!1,r&&setTimeout(function(){var r,n,a=e.p;j(a)&&(x?t.emit("unhandledRejection",i,a):(r=o.onunhandledrejection)?r({promise:a,reason:i}):(n=o.console)&&n.error&&n.error("Unhandled promise rejection",i)),e.a=void 0},1)})}},j=function(e){var t,r=e._d,n=r.a||r.c,i=0;if(r.h)return!1;for(;n.length>i;)if(t=n[i++],t.fail||!j(t.promise))return!1;return!0},R=function(e){var t=this;t.d||(t.d=!0,t=t.r||t,t.v=e,t.s=2,t.a=t.c.slice(),A(t,!0))},O=function(e){var t,r=this;if(!r.d){r.d=!0,r=r.r||r;try{if(r.p===e)throw TypeError("Promise can't be resolved itself");(t=E(e))?y(function(){var n={r:r,d:!1};try{t.call(e,a(O,n,1),a(R,n,1))}catch(i){R.call(n,i)}}):(r.v=e,r.s=1,A(r,!1))}catch(n){R.call({r:r,d:!1},n)}}};D||(w=function(e){l(e);var t=this._d={p:d(this,w,b),c:[],a:void 0,s:0,d:!1,v:void 0,h:!1,n:!1};try{e(a(O,t,1),a(R,t,1))}catch(r){R.call(t,r)}},e("8c")(w.prototype,{then:function(e,t){var r=new S(v(this,w)),n=r.promise,i=this._d;return r.ok="function"==typeof e?e:!0,r.fail="function"==typeof t&&t,i.c.push(r),i.a&&i.a.push(r),i.s&&A(i,!1),n},"catch":function(e){return this.then(void 0,e)}})),u(u.G+u.W+u.F*!D,{Promise:w}),e("78")(w,b),e("8e")(b),r=e("7")[b],u(u.S+u.F*!D,b,{reject:function(e){var t=new S(this),r=t.reject;return r(e),t.promise}}),u(u.S+u.F*(!D||k(!0)),b,{resolve:function(e){if(e instanceof w&&P(e.constructor,this))return e;var t=new S(this),r=t.resolve;return r(e),t.promise}}),u(u.S+u.F*!(D&&e("3e")(function(e){w.all(e)["catch"](function(){})})),b,{all:function(e){var t=M(this),r=new S(t),i=r.resolve,o=r.reject,a=[],s=T(function(){h(e,!1,a.push,a);var r=a.length,s=Array(r);r?n.each.call(a,function(e,n){var a=!1;t.resolve(e).then(function(e){a||(a=!0,s[n]=e,--r||i(s))},o)}):i(s)});return s&&o(s.error),r.promise},race:function(e){var t=M(this),r=new S(t),n=r.reject,i=T(function(){h(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i&&n(i.error),r.promise}})}(e("89")),r.exports}),e.registerDynamic("95",["6d","a","9","94","7"],!0,function(e,t,r){return e("6d"),e("a"),e("9"),e("94"),r.exports=e("7").Promise,r.exports}),e.registerDynamic("18",["95"],!0,function(e,t,r){return r.exports={"default":e("95"),__esModule:!0},r.exports}),e.register("96",["16","17","18","47","97"],function(e){function t(e){return new u(function(t,r){e.ok||304===e.status?t(e):e.text().then(function(t){r({message:e.statusText,status:e.status,responseText:t})})})}function r(e){return null!==this._cookieManager?this._cookieManager.getCookieString(e.url).then(function(t){""!==t&&e.headers.set("Cookie",t)}).then(function(){return e}):u.resolve(e)}function n(e){return null!==this._cookieManager?this._cookieManager.storeCookies(e.url,e.headers.getAll("Set-Cookie")).then(function(){return e}):u.resolve(e)}function i(e){var i=e.method,o=e.headers,a=e.body,s=void 0===a?null:a,u=new Headers(o),c={method:i,headers:u,credentials:"include"};null!==s&&(c.body=s);var f=new Request(this._url.toString(),c);return r.call(this,f).then(fetch).then(t).then(n.bind(this))}function o(){var e=this,t={};return c(this._headers).forEach(function(r){t[r]=e._headers[r]}),t}var a,s,u,c,f,l;return{setters:[function(e){a=e["default"]},function(e){s=e["default"]},function(e){u=e["default"]},function(e){c=e["default"]},function(e){f=e.Uri}],execute:function(){"use strict";l=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r.uriParts,i=void 0===n?{}:n,o=r.headers,a=void 0===o?{}:o,u=r.timeout,c=void 0===u?null:u,l=r.beforeRequest,d=void 0===l?function(e){return e}:l,h=r.cookieManager,p=void 0===h?null:h;s(this,e),this._url=new f(t),"segments"in i&&this._url.addSegments(i.segments),"query"in i&&this._url.addQueryParams(i.query),"excludeQuery"in i&&this._url.removeQueryParam(i.excludeQuery),this._beforeRequest=d,this._timeout=c,this._headers=a,this._cookieManager=p}return a(e,[{key:"at",value:function(){for(var t=[],r=arguments.length,n=Array(r),i=0;r>i;i++)n[i]=arguments[i];return n.forEach(function(e){t.push(e.toString())}),new e(this._url.toString(),{headers:this._headers,timeout:this._timeout,beforeRequest:this._beforeRequest,uriParts:{segments:t},cookieManager:this._cookieManager})}},{key:"withParam",value:function(t,r){var n={};return n[t]=r,new e(this._url.toString(),{headers:this._headers,timeout:this._timeout,beforeRequest:this._beforeRequest,uriParts:{query:n},cookieManager:this._cookieManager})}},{key:"withParams",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return new e(this._url.toString(),{headers:this._headers,timeout:this._timeout,beforeRequest:this._beforeRequest,uriParts:{query:t},cookieManager:this._cookieManager})}},{key:"withoutParam",value:function(t){return new e(this._url.toString(),{headers:this._headers,timeout:this._timeout,beforeRequest:this._beforeRequest,uriParts:{excludeQuery:t},cookieManager:this._cookieManager})}},{key:"withHeader",value:function(t,r){var n=o.call(this);return n[t]=r,new e(this._url.toString(),{timeout:this._timeout,beforeRequest:this._beforeRequest,headers:n,cookieManager:this._cookieManager})}},{key:"withHeaders",value:function(t){var r=o.call(this);return c(t).forEach(function(e){r[e]=t[e]}),new e(this._url.toString(),{timeout:this._timeout,beforeRequest:this._beforeRequest,headers:r,cookieManager:this._cookieManager})}},{key:"withoutHeader",value:function(t){var r=o.call(this);return delete r[t],new e(this._url.toString(),{timeout:this._timeout,beforeRequest:this._beforeRequest,headers:r,cookieManager:this._cookieManager})}},{key:"get",value:function(){var e=arguments.length<=0||void 0===arguments[0]?"GET":arguments[0],t=this._beforeRequest({method:e,headers:o.call(this)});return i.call(this,t)}},{key:"post",value:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?"POST":arguments[2];this._headers["Content-Type"]=t;var n=this._beforeRequest({method:r,body:e,headers:o.call(this)});return i.call(this,n)}},{key:"put",value:function(e,t){return this.post(e,t,"PUT")}},{key:"head",value:function(){return this.get("HEAD")}},{key:"options",value:function(){return this.get("OPTIONS")}},{key:"delete",value:function(){return this.post(null,null,"DELETE")}},{key:"url",get:function(){return this._url.toString()}},{key:"headers",get:function(){return new Headers(this._headers)}}]),e}(),e("Plug",l)}}}),e.registerDynamic("70",[],!0,function(e,t,r){return r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},r.exports}),e.registerDynamic("3a",["70"],!0,function(e,t,r){var n=e("70");return r.exports=function(e){return Object(n(e))},r.exports}),e.registerDynamic("86",[],!0,function(e,t,r){var n=this,n=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();return"number"==typeof __g&&(__g=n),r.exports}),e.registerDynamic("83",[],!0,function(e,t,r){return r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},r.exports}),e.registerDynamic("39",["83"],!0,function(e,t,r){var n=e("83");return r.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},r.exports}),e.registerDynamic("34",["86","7","39"],!0,function(e,t,r){var n=this,n=e("86"),i=e("7"),o=e("39"),a="prototype",s=function(e,t,r){var u,c,f,l=e&s.F,d=e&s.G,h=e&s.S,p=e&s.P,m=e&s.B,g=e&s.W,v=d?i:i[t]||(i[t]={}),y=d?n:h?n[t]:(n[t]||{})[a];d&&(r=t);for(u in r)c=!l&&y&&u in y,c&&u in v||(f=c?y[u]:r[u],v[u]=d&&"function"!=typeof y[u]?r[u]:m&&c?o(f,n):g&&y[u]==f?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t[a]=e[a],t}(f):p&&"function"==typeof f?o(Function.call,f):f,p&&((v[a]||(v[a]={}))[u]=f))};return s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,r.exports=s,r.exports}),e.registerDynamic("8d",[],!0,function(e,t,r){return r.exports=function(e){try{return!!e()}catch(t){return!0}},r.exports}),e.registerDynamic("2d",["34","7","8d"],!0,function(e,t,r){var n=e("34"),i=e("7"),o=e("8d");return r.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)},r.exports}),e.registerDynamic("98",["3a","2d"],!0,function(e,t,r){var n=e("3a");return e("2d")("keys",function(e){return function(t){return e(n(t))}}),r.exports}),e.registerDynamic("7",[],!0,function(e,t,r){var n=r.exports={version:"1.2.6"};return"number"==typeof __e&&(__e=n),r.exports}),e.registerDynamic("99",["98","7"],!0,function(e,t,r){return e("98"),r.exports=e("7").Object.keys,r.exports}),e.registerDynamic("47",["99"],!0,function(e,t,r){return r.exports={"default":e("99"),__esModule:!0},r.exports}),e.registerDynamic("2f",[],!0,function(e,t,r){var n=Object;return r.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach},r.exports}),e.registerDynamic("9a",["2f"],!0,function(e,t,r){var n=e("2f");return r.exports=function(e,t,r){return n.setDesc(e,t,r)},r.exports}),e.registerDynamic("4b",["9a"],!0,function(e,t,r){return r.exports={"default":e("9a"),__esModule:!0},r.exports}),e.registerDynamic("16",["4b"],!0,function(e,t,r){"use strict";var n=e("4b")["default"];return t["default"]=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),n(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t.__esModule=!0,r.exports}),e.registerDynamic("17",[],!0,function(e,t,r){"use strict";return t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t.__esModule=!0,r.exports}),e.register("9b",["16","17"],function(e){function t(e){var t=["href","protocol","username","password","hostname","port","pathname","search","hash"],r=o.exec(e),n={};return t.forEach(function(e,t){n[e]=r[t]}),n}function r(e){var t=[],r=e.split("&");return r.forEach(function(e){var r=e.split("=");t.push([r[0],r[1]])}),t}var n,i,o,a,s;return{setters:[function(e){n=e["default"]},function(e){i=e["default"]}],execute:function(){"use strict";o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+:))?(?:\/\/)?(?:([^:@\/]*)(?::([^:@\/]*))?@)?(\[[0-9a-fA-F.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?((?:[^?#](?![^?#\/]*\.(?:[?#]|$)))*\/?)?[^?#\/]*(?:(\?[^#]*))?(?:(#.*))?/,a=function(){function e(t){i(this,e),this.params=[],t&&""!==t&&("?"===t[0]&&(t=t.slice(1)),this.params=r(t))}return n(e,[{key:"append",value:function(e,t){this.params.push([e,t])}},{key:"delete",value:function(e){var t=[];this.params.forEach(function(r){r[0]!==e&&t.push(r)}),this.params=t}},{key:"get",value:function(e){for(var t=null,r=0;r<this.params.length;r++)if(this.params[r][0]===e){t=this.params[r][1];break}return t}},{key:"getAll",value:function(e){var t=[];return this.params.forEach(function(r){r[0]===e&&t.push(r[1])}),t}},{key:"has",value:function(e){for(var t=!1,r=0;r<this.params.length;r++)if(this.params[r][0]===e){t=!0;break}return t}},{key:"set",value:function(e,t){var r=!1,n=[];this.params.forEach(function(i){i[0]!==e||r?i[0]!==e&&n.push(i):(i[1]=t,n.push(i),r=!0)}),this.params=n}},{key:"toString",value:function(){return this.params.reduce(function(e,t,r){return""+e+(0===r?"":"&")+t[0]+"="+t[1]},"")}},{key:"entries",get:function(){return this.params}}]),e}(),e("UriSearchParams",a),s=function(){function e(){var r=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(i(this,e),"string"!=typeof r)throw new TypeError("Failed to construct 'URL': The supplied URL must be a string");var n=t(r),o="undefined"!=typeof n.protocol&&""!==n.protocol,s="undefined"!=typeof n.hostname&&""!==n.hostname;if(o&&!s||!o&&s)throw new TypeError("Failed to construct 'URL': Protocol and hostname must be supplied together");o||s||(this.hostless=!0),this.parts=n,this.params=new a(this.parts.search)}return n(e,[{key:"toString",value:function(){var e="";return this.hostless||(e=this.protocol+"//",this.username&&""!==this.username&&(e=""+e+this.username,this.password&&""!==this.password&&(e=e+":"+this.password),e+="@")),e=""+e+this.host+this.pathname,this.search&&""!==this.search&&(e=""+e+this.search),this.hash&&""!==this.hash&&(e=""+e+this.hash),e}},{key:"protocol",get:function(){return this.parts.protocol.toLowerCase()},set:function(e){this.parts.protocol=e}},{key:"hostname",get:function(){return this.parts.hostname},set:function(e){this.parts.hostname=e}},{key:"port",get:function(){return this.parts.port||""},set:function(e){this.parts.port=e}},{key:"pathname",get:function(){return this.parts.pathname||"/"},set:function(e){this.parts.pathname=e}},{key:"search",get:function(){return 0===this.params.entries.length?"":"?"+this.params.toString()},set:function(e){this.parts.search=e,this.params=new a(e)}},{key:"hash",get:function(){return this.parts.hash||""},set:function(e){this.parts.hash=e}},{key:"username",get:function(){return this.parts.username||""},set:function(e){this.parts.username=e}},{key:"password",get:function(){return this.parts.password||""},set:function(e){this.parts.password=e}},{key:"href",get:function(){return this.toString()},set:function(e){this.parts=t(e),this.search=this.parts.search}},{key:"host",get:function(){var e=this.hostname.toLowerCase();return this.port&&(e=e+":"+this.port),e},set:function(e){var t=e.split(":");this.hostname=t[0],t.length>1?this.port=t[1]:this.port=""}},{key:"origin",get:function(){return this.protocol+"//"+this.host}},{key:"searchParams",get:function(){return this.params},set:function(e){this.params=e,this.parts.search="?"+e.toString()}}]),e}(),e("UriParser",s)}}}),e.register("97",["16","17","47","9b"],function(e){var t,r,n,i,o;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e.UriParser}],execute:function(){"use strict";o=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?"":arguments[0];r(this,e),this.parsedUrl=new i(t)}return t(e,[{key:"getQueryParam",value:function(e){return this.parsedUrl.searchParams.get(e)}},{key:"removeQueryParam",value:function(e){this.parsedUrl.searchParams["delete"](e)}},{key:"addQueryParam",value:function(e,t){this.parsedUrl.searchParams.append(e,encodeURIComponent(t))}},{key:"addQueryParams",value:function(e){var t=this;n(e).forEach(function(r){t.addQueryParam(r,e[r])})}},{key:"setQueryParam",value:function(e,t){this.removeQueryParam(e),this.addQueryParam(e,t)}},{key:"addSegments",value:function(){for(var e="",t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];r.forEach(function(t){Array.isArray(t)?t.forEach(function(t){"/"===t[0]&&(t=t.slice(1)),e=e+"/"+t}):("/"===t[0]&&(t=t.slice(1)),e=e+"/"+t)});var i=this.parsedUrl.pathname;"/"===i&&(i=""),this.parsedUrl.pathname=""+i+e}},{key:"toString",value:function(){return this.parsedUrl.toString()}},{key:"protocol",get:function(){return this.parsedUrl.protocol},set:function(e){this.parsedUrl.protocol=e}},{key:"hostname",get:function(){return this.parsedUrl.hostname},set:function(e){this.parsedUrl.hostname=e}},{key:"origin",get:function(){return this.parsedUrl.origin}}]),e}(),e("Uri",o)}}}),e.register("9c",["96","97"],function(e){"use strict";var t,r;return{setters:[function(e){t=e.Plug},function(e){r=e.Uri}],execute:function(){e("Plug",t),e("Uri",r)}}}),e.register("1c",["9c"],function(e){"use strict";return{setters:[function(t){var r={};for(var n in t)"default"!==n&&(r[n]=t[n]);r["default"]=t["default"],e(r)}],execute:function(){}}}),e.register("19",["16","17","47","6c","1c"],function(e){function t(e){var t={};return i(e).forEach(function(r){t[r]=e[r]}),t}var r,n,i,o,a,s,u,c,f,l,d;return{setters:[function(e){r=e["default"]},function(e){n=e["default"]},function(e){i=e["default"]},function(e){o=e["default"]},function(e){a=e.Uri}],execute:function(){"use strict";s="/",u={"dream.out.format":"json"},c={"X-Deki-Client":"mindtouch-martian"},f=null,l=null,d=function(){function e(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=r.host,o=void 0===i?s:i,l=r.queryParams,d=void 0===l?u:l,h=r.headers,p=void 0===h?c:h,m=r.token,g=void 0===m?f:m,v=r.origin,y=void 0===v?null:v;if(n(this,e),this._host=o,this._token=g,this._origin=y,this._queryParams=t(d),this._headers=t(p),null!==this._origin){var b=new a(this._origin),x=new a(this._host);b.origin===x.origin&&(this._headers["X-Deki-Requested-With"]="XMLHttpRequest")}}return r(e,null,[{key:"cookieManager",get:function(){return l},set:function(e){l=e}},{key:"default",get:function(){return o({reset:function(){s="/",u={"dream.out.format":"json"},f=null,c={"X-Deki-Client":"mindtouch-martian"}}},{token:{get:function(){return f},set:function(e){f=e},configurable:!0,enumerable:!0},host:{get:function(){return s},set:function(e){s=e},configurable:!0,enumerable:!0},headers:{get:function(){return c},set:function(e){c=e},configurable:!0,enumerable:!0}})}}]),r(e,[{key:"_beforeRequest",value:function(e){if(null!==this._token){var t=this._token;"function"==typeof t&&(t=this._token()),e.headers["X-Deki-Token"]=t}return e}},{key:"host",get:function(){return this._host}},{key:"token",get:function(){return this._token}},{key:"origin",get:function(){return this._origin}},{key:"plugConfig",get:function(){var e=this;return{uriParts:{query:this._queryParams},headers:this._headers,beforeRequest:function(t){return e._beforeRequest(t)},cookieManager:l}}}]),e}(),e("Settings",d)}}}),e.register("9d",["16","17","19","23","26","53","6a"],function(e){var t,r,n,i,o,a,s,u;return{setters:[function(e){t=e["default"]},function(e){r=e["default"]},function(e){n=e.Settings},function(e){i=e.User},function(e){o=e.Search},function(e){a=e.Article},function(e){s=e.Workflows}],execute:function(){"use strict";u=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(r(this,e),!("host"in t))throw new Error("A MindTouch host (e.g. https://example.mindtouch.us) is required to initialize the GeniusLink SDK connection.");if(!("token"in t))throw new Error("A browser developer token must be supplied to initialize the GeniusLink SDK connection.");if("string"!=typeof t.token)throw new Error("An invalid browser developer token was used to initialize the GeniusLink SDK connection.");var u=t.host,c=u.match(/^http(s?):/),f=c&&Array.isArray(c)?c[0]:window.location.protocol;if(c||(u=f+"//"+u),"http:"===f&&"https:"===window.location.protocol)throw new Error("An insecure GeniusLink SDK connection (http) cannot be made from a secure web page (https).");var l=t.token.trim();if(""===l)throw new Error("An invalid browser developer token was used to initialize the GeniusLink SDK connection.");this.settings=new n({host:u,token:l}),this.userLib=new i(this.settings),this.searchLib=new o(this.settings),this.articleLib=new a(this.settings),this.workflows=new s(this.settings)}return t(e,[{key:"configuration",get:function(){return{host:this.settings.host,token:this.settings.token}}},{key:"search",get:function(){return this.searchLib.search.bind(this.searchLib)}},{key:"User",get:function(){return this.userLib}},{key:"Article",get:function(){return this.articleLib}},{key:"Workflows",get:function(){return this.workflows}}]),e}(),e("GeniusLink",u)}}}),e.register("1",["3","9d"],function(e){"use strict";var t;return{setters:[function(e){},function(e){t=e.GeniusLink}],execute:function(){window.GeniusLink=t||{}}}})})(function(e){e()});
//# sourceMappingURL=geniuslink.min.js.map
